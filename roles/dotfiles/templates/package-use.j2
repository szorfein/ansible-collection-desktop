# Generated by Ansible role {{ ansible_role_name }}
{% if dotfiles_wm == "awm-m2" or dotfiles_wm == "awm-m3" %}
# awesome
#dev-python/pillow jpeg
x11-libs/cairo X
x11-libs/libxkbcommon X
# Dependency required for maim
media-libs/libglvnd X
#media-gfx/imagemagick xml png jpeg

{% if dotfiles_gpu_driver == 'intel_gen7' or dotfiles_gpu_driver == 'intel' %}
#media-libs/libva X
{% endif %}

{% if dotfiles_gpu_driver == 'intel' %}
#media-libs/vulkan-loader X
{% endif %}

{% if dotfiles_audio_backend == 'pulseaudio' %}
# Pulseaudio
media-libs/libpulse X
media-plugins/alsa-plugins pulseaudio
{% endif %}

{% if ansible_service_mgr == 'openrc' %}
sys-auth/pambase elogind
{% endif %}
{% endif %}

{% if dotfiles_emacs_doom %}
# doom-emacs
# https://github.com/doomemacs/doomemacs/blob/master/docs/getting_started.org#gentoo-linux
#app-editors/emacs -alsa gui json xft gpm
#app-emacs/emacs-common gui
{% endif %}

{% if dotfiles_mpd %}
# MPD
dev-libs/boost icu
{% endif %}

{% if dotfiles_files_browser %}
app-crypt/gcr gtk
{% if dotfiles_audio_backend == 'pulseaudio' %}
# Nemo
# depend of pulseaudio / cinnamon
dev-libs/glib dbus
x11-libs/xapp introspection
media-plugins/alsa-plugins pulseaudio
{% if ansible_service_mgr == 'openrc' %}
sys-apps/accountsservice elogind
media-sound/pulseaudio-daemon elogind alsa -X
{% elif ansible_service_mgr == 'systemd' %}
sys-apps/accountsservice systemd
media-sound/pulseaudio-daemon systemd alsa -X
{% endif %}
{% elif dotfiles_audio_backend == 'alsa' %}
{% if dotfiles_wm == 'awm-m2' or dotfiles_wm == 'awm-m3' %}
# Thunar
dev-python/pycairo X
x11-libs/gtk+ X
xfce-base/libxfce4ui X
xfce-base/xfce4-panel X
xfce-base/libxfce4windowing X
{% else %}
# Swayfx
xfce-base/libxfce4ui wayland
xfce-base/xfce4-panel wayland
xfce-base/libxfce4windowing wayland
{% endif %}
{% endif %}
{% endif %}

#{% if dotfiles_neomutt %}
# neomutt
#mail-client/neomutt gpgme gdbm sasl notmuch
#net-mail/isync sasl
#{% endif %}

{% if dotfiles_wm == 'swayfx' %}
# SwayFX
#gui-apps/eww wayland
dev-libs/libdbusmenu gtk3
x11-libs/gdk-pixbuf jpeg
#x11-libs/gtk+ wayland
#media-libs/libglvnd X
#media-gfx/imv -X wayland
# If sys-auth/seatd is used, the server USE flag is required.
sys-auth/seatd server
# can't set a wallpaper in jpg without this
gui-apps/swaybg gdk-pixbuf
#media-libs/vulkan-loader -X wayland
#media-video/mpv -X wayland

# dunst 
app-text/xmlto text
x11-misc/dunst dunstify

# intel gen7 and lower
#media-libs/mesa wayland
#media-libs/mesa-amber wayland
# TODO install nemo (this will install a lot of deps)
{% endif %}

{% if dotfiles_neovim %}
# Neovim (nothing look needed...)
{% endif %}

{% if dotfiles_wezterm %}
# Wezterm
{% if dotfiles_wm == 'swayfx' %}
x11-terms/wezterm wayland
{% else %}
{% endif %}
x11-libs/cairo X
x11-libs/libxkbcommon X wayland
{% endif %}
