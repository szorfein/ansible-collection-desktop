---
# tasks file for dotfiles
- name: Load OS-vars
  include_vars: "{{ lookup('first_found', params) }}"
  vars:
    params:
      files:
        - '{{ ansible_os_family }}.yml'
        - main.yml
      paths:
        - 'vars'

- name: setting fact username = {{ ansible_user_id }}
  ansible.builtin.set_fact:
    username: '{{ ansible_user_id }}'

- include_tasks: shell.yml
  when: dotfiles_shell_zsh | bool

- include_tasks: vim.yml
  when: dotfiles_vim | bool
